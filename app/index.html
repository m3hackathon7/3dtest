<html>
	<head>
		<title>My first Three.js app</title>
		<style>canvas { width: 100%; height: 100% }</style>
	</head>
	<body>
    <div id='container' style="width: 100%; height: 600px"></div>
		<script src="vendor/threejs-build/three.min.js"></script>
		<script src="vendor/stats.js/js/stats.min.js"></script>
		<script src="vendor/underscore/underscore.js"></script>
		<script src="js/TerrainViewer.js"></script>
		<script>
      var container = document.getElementById('container');

      var tv = new TerrainViewer(container);
      tv.setTerrain(
        '/images/texture.jpg', 2000, 2000);
      tv.setCoordGrid([
        0, 0, 100, 100, 100, 100, 100, 100, 100, 0,
        0, 0, 100, 100, 100, 200, 200, 100, 100, 0,
        0, 0, 100, 100, 200, 200, 200, 100, 100, 0,
        0, 0, 100, 200, 300, 300, 200, 100, 100, 0,
        0, 0, 100, 200, 300, 300, 200, 100, 100, 0,
        0, 0, 100, 200, 300, 300, 300, 200, 100, 0,
        0, 0, 100, 200, 200, 200, 300, 200, 100, 0,
        0, 0, 100, 200, 100, 200, 200, 100, 100, 0,
        0, 0, 100, 100, 100, 200, 200, 100, 100, 0,
        0, 0, 100, 100, 100, 200, 200, 100, 100, 0
        ], 10, 10);
      tv.setCenter(35.392626649, 139.241986328);
      var route = [
        {lat: 35.392626649, lon: 139.241986328, elev: 400},
        {lat: 35.393626649, lon: 139.241986328, elev: 500},
        {lat: 35.400626649, lon: 139.252986328, elev: 600},
        {lat: 35.403626649, lon: 139.263986328, elev: 300}
      ];
      tv.setRoute(route);

      tv.setup();
      tv.setCursorPosition(35.392626649, 139.241986328, 400);
      var i = 0;
      setInterval(function() {
        i++;
        i = i % route.length;
        var pos = route[i];
        tv.setCursorPosition(pos.lat, pos.lon, pos.elev);
      }, 1000);
    </script>
	</body>
</html>
